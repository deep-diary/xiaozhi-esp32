# 人脸/天花板混拍 log 分析（BYTE_SWAP=1）

## 1. 从本段 log 能看出的规律

- **所有框仍是 box=(0, y)**：x 恒为 0，y 在 0～146 变化。说明 BYTE_SWAP=1 没有改变“框全在左边”的现象，**无法用水平位置**区分人脸/天花板。
- **“Face not detected”连续多帧**：很可能是**对天花板**——阈值/最小框把误检滤掉，或该帧模型没给出框。
- **连续多帧稳定 1 张脸**：可能是**对人脸**，也可能是天花板偶发误检。
- **多张脸/多框**：更可能是**天花板**（纹理被拆成多块）或多人；单人正脸通常为 1 框。

## 2. 按帧号粗分“可能人脸 / 可能天花板”（仅作参考）

| 帧号区间 | 现象 | 推断 |
|----------|------|------|
| 1–27 | 1–3 张/帧，夹杂多次 “Face not detected” | 混拍或晃动，难区分 |
| **28–41** | **连续约 14 帧 “Face not detected”** | **很可能对天花板** |
| 42–55 | 多为 “Face not detected”，偶有 1 张 | 可能偏天花板 |
| 56–84 | 多为 1–2 张，y 分散 | 可能有人脸或晃动 |
| **85–92** | **连续多帧 “Face not detected”** | **很可能对天花板** |
| 93–103 | 1–2 张 | 可能对人脸 |
| **104–108** | **连续 “Face not detected”** | **可能对天花板** |
| 109–124 | 1–2 张 | 可能对人脸 |
| **125–136** | **连续 “Face not detected”** | **很可能对天花板** |
| 137–148 | 偶有 1 张 | 混拍 |
| **149–157** | **连续 “Face not detected”** | **可能对天花板** |
| 158–170 | 1–2 张 | 可能对人脸 |
| 171–200 | 多帧 1–2 张，y 在 15–82 等 | 可能对人脸；**帧 200 触发 Explain 且返回“戴眼镜男子自拍”** → **该段含对人脸** |
| 200 后 | Explain 成功，后续帧 1–2 张 | 对人脸 |

**结论**：  
- 只能根据**“Face not detected”是否连续多帧**粗判：**连续 8 帧以上多为“可能对天花板”**；**连续多帧稳定 1 张脸**且之后有 Explain 成功，则**该段更可能对人脸**。  
- 因**所有框 x=0**，无法用框的左右位置区分，数据本身区分度有限。

## 3. 建议：在代码里打“可能人脸/可能天花板”提示

在 `app_face_detection` 中加简单统计：连续 N 帧无框 → 打一次 “likely_ceiling”；连续 M 帧均为 1 框 → 打一次 “likely_face”。这样**后续 log 可直接看提示**，无需再人工按区间推断。详见下节实现。
